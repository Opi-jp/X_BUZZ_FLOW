# 作業ログシステム使用ガイド

## 🚀 クイックスタート

### 1. 自動ログを開始
```bash
./scripts/start_auto_log.sh
```
- 作業内容を入力
- 更新間隔を選択（推奨: 10分）
- バックグラウンドで自動記録開始

### 2. 自動ログを停止
```bash
./scripts/stop_auto_log.sh
```

### 3. 状態確認
```bash
./scripts/auto_log_updater.sh status
```

## 📝 ログファイルの場所
```
~/work_logs/X_BUZZ_FLOW/auto_logs/
└── 20250614_160037_session.md  # 自動生成されるログ
```

## 🛡️ クラッシュ対策

このシステムは以下の対策でクラッシュに強い設計です：

1. **自動保存**: 10分ごとに自動的にファイルに記録
2. **バックグラウンド実行**: ターミナルを閉じても継続
3. **セッションID保存**: ~/.current_log_sessionに保存
4. **入力タイムアウト**: 30秒で自動スキップ

## 💡 使用例

### 通常の開発作業
```bash
$ ./scripts/start_auto_log.sh
作業内容を入力してください: CoT Phase 2-5の実装
更新間隔を選択してください: 2  # 10分を選択

# 10分後に自動的にプロンプトが表示
現在の作業内容を入力（30秒でスキップ）: Phase 2のデバッグ完了
メモ（オプション）: JSON形式のエラーを修正
```

### 長時間の作業
```bash
# 15分間隔で記録（設計や調査向け）
$ ./scripts/start_auto_log.sh
作業内容: システム設計
間隔: 3  # 15分を選択
```

## 📊 ログの形式

自動生成されるログ例：
```markdown
# 自動ログセッション: CoT Phase 2-5の実装

**プロジェクト**: X_BUZZ_FLOW  
**開始時刻**: 2025-06-14 16:00:00  
**更新間隔**: 10分  

## 📊 作業進捗

| 時刻 | 経過時間 | アクティビティ | メモ |
|------|----------|----------------|------|
| 16:00:00 | 0分 | セッション開始 | CoT Phase 2-5の実装 |
| 16:10:00 | 10分 | Phase 2のデバッグ完了 | JSON形式のエラーを修正 |
| 16:20:00 | 20分 | Phase 3の実装開始 | プロンプト設計中 |
| 16:30:00 | 30分 | 自動記録 | （入力なし） |
```

## 🔧 トラブルシューティング

### ログが更新されない
```bash
# アクティブなセッションを確認
./scripts/auto_log_updater.sh status

# プロセスが死んでいる場合は再起動
./scripts/stop_auto_log.sh
./scripts/start_auto_log.sh
```

### 複数セッションの管理
```bash
# 全セッション表示
./scripts/auto_log_updater.sh status

# 特定のセッションを停止
./scripts/auto_log_updater.sh stop [セッションID]
```

## 📈 活用のコツ

1. **定期的な記録**: 入力を求められたら簡潔に現在の状態を記録
2. **スキップOK**: 集中している時は30秒待てば自動スキップ
3. **後から編集可能**: ログファイルは後から詳細を追記できます
4. **Git連携**: work_logsディレクトリをGit管理すると履歴管理も可能

---
*このシステムにより、作業の進捗が自動的に記録され、クラッシュしても作業履歴が失われません。*