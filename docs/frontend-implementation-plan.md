# X_BUZZ_FLOW フロントエンド実装計画

## 現状分析（2025年6月14日）

### 実装済み機能
1. **認証システム** - Twitter OAuth 2.0（NextAuth）
2. **基本的なテストページ**
   - `/dashboard` - 基本的なダッシュボード
   - `/viral/gpt` - 旧バイラルシステム
   - `/viral/cot` - 新CoTシステム（テスト段階）
   - `/news` - ニュース管理（基本機能）
   - `/viral/drafts` - 下書き管理

### 問題点
1. **UIデザインの不統一** - 各ページで異なるスタイル
2. **存在しないページへのリンク** - 404エラー多発
3. **APIエンドポイントの未実装** - 500エラー
4. **エラーハンドリング不足**
5. **レスポンシブ対応の不完全**

## 実装計画

### Phase 1: 基盤整備（1-2日）

#### 1.1 デザインシステムの確立
- [x] shadcn/uiの導入
- [ ] カラーパレットの定義
- [ ] 共通コンポーネントの作成
  - [ ] ページヘッダー
  - [ ] ステータスカード
  - [ ] データテーブル
  - [ ] フォーム要素
  - [ ] ローディング状態
  - [ ] エラー状態

#### 1.2 レイアウトシステムの統一
- [ ] AppLayoutの改善
- [ ] ナビゲーションの再設計
- [ ] モバイル対応の強化

### Phase 2: コアページ実装（3-4日）

#### 2.1 ダッシュボード（/dashboard）
- [ ] リアルタイムデータ取得API
- [ ] グラフ・チャート実装（Recharts）
- [ ] アクティビティフィード
- [ ] クイックアクションの改善

#### 2.2 AIバイラルシステム（/viral/*）
- [ ] `/viral/cot` - CoT生成UI完成
  - [ ] プログレストラッキング
  - [ ] リアルタイム更新
  - [ ] エラーハンドリング
- [ ] `/viral/drafts` - 下書き管理強化
  - [ ] 一覧表示の改善
  - [ ] 編集UIの洗練
  - [ ] 一括操作機能
- [ ] `/viral/performance` - パフォーマンス分析（新規）

#### 2.3 ニュースシステム（/news/*）
- [ ] `/news` - 記事一覧の改善
- [ ] `/news/sources` - ソース管理（新規）
- [ ] `/news/threads` - スレッド管理UI

#### 2.4 バズ収集システム（/buzz/*）
- [ ] `/buzz` - メインページ（新規）
- [ ] `/buzz/config` - 設定画面（新規）
- [ ] `/buzz/posts` - バズ投稿一覧（新規）
- [ ] `/buzz/quote` - 引用作成（新規）

### Phase 3: 分析・設定ページ（2-3日）

#### 3.1 分析ダッシュボード（/analytics/*）
- [ ] `/analytics` - 統合分析画面（新規）
- [ ] `/analytics/posts` - 投稿分析
- [ ] `/analytics/engagement` - エンゲージメント分析
- [ ] `/analytics/followers` - フォロワー分析
- [ ] `/analytics/insights` - AIインサイト

#### 3.2 設定画面（/settings/*）
- [ ] `/settings` - 設定メイン（新規）
- [ ] `/settings/api` - API設定
- [ ] `/settings/post` - 投稿設定
- [ ] `/settings/profile` - プロフィール設定

### Phase 4: API実装（並行作業）

#### 4.1 必須APIエンドポイント
- [ ] `/api/dashboard/stats` - ダッシュボード統計
- [ ] `/api/viral/cot-session/create` - CoTセッション作成
- [ ] `/api/viral/cot-session/[id]` - セッション状態取得
- [ ] `/api/buzz/collect` - バズ収集API
- [ ] `/api/analytics/*` - 分析データAPI

#### 4.2 エラーハンドリング
- [ ] 統一エラーレスポンス形式
- [ ] ログ記録システム
- [ ] ユーザーフレンドリーなエラーメッセージ

### Phase 5: 最適化・品質向上（1-2日）

#### 5.1 パフォーマンス最適化
- [ ] コード分割（dynamic imports）
- [ ] 画像最適化
- [ ] キャッシュ戦略

#### 5.2 ユーザビリティ向上
- [ ] ローディング状態の統一
- [ ] トースト通知システム
- [ ] キーボードショートカット
- [ ] アクセシビリティ対応

#### 5.3 テスト・品質保証
- [ ] コンポーネントテスト
- [ ] E2Eテスト基盤
- [ ] エラー監視設定

## 技術仕様

### UIライブラリ
- **shadcn/ui** - UIコンポーネント
- **Tailwind CSS** - スタイリング
- **Recharts** - グラフ・チャート
- **Lucide React** - アイコン
- **Framer Motion** - アニメーション（オプション）

### 状態管理
- **React Hook Form** - フォーム管理
- **SWR or React Query** - データフェッチング
- **Zustand** - グローバル状態（必要に応じて）

### デザイントークン
```css
/* カラーパレット */
--primary: AI生成（青系）
--secondary: ニュース（紫系）
--accent: バズ（緑系）
--warning: 注意（黄系）
--error: エラー（赤系）

/* スペーシング */
--spacing-unit: 0.25rem (4px)

/* ブレークポイント */
--mobile: 640px
--tablet: 768px
--desktop: 1024px
```

## 優先度とタイムライン

### 即座に対応（今日中）
1. 存在しないページの作成（最低限のプレースホルダー）
2. 404エラーの解消
3. ダッシュボードUIの完成

### 短期（1週間以内）
1. コアページの実装
2. 必須APIの実装
3. エラーハンドリング

### 中期（2週間以内）
1. 分析機能の実装
2. 設定画面の完成
3. パフォーマンス最適化

## 成功指標

1. **エラー削減** - 404/500エラーをゼロに
2. **統一されたUI** - 全ページで一貫したデザイン
3. **レスポンシブ対応** - モバイル〜デスクトップで快適な操作
4. **パフォーマンス** - Core Web Vitalsの基準達成
5. **ユーザビリティ** - 直感的で使いやすいインターフェース