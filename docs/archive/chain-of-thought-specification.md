# Chain of Thought 実装仕様書

## 🚨 重要な警告
**このドキュメントは、オリジナルのChatGPTプロンプトに基づく正確な仕様です。**
**実装を変更する前に、必ずこのドキュメントを参照してください。**

## 基本原則

### Chain of Thoughtとは
- **GPTに思考プロセスを踏ませる**技法
- 各フェーズで「どう考えるか」をプロンプトで導き、**GPT自身に判断させる**
- ハードコードされた処理ではなく、**GPTの推論能力を活用**

### 絶対に守るべきルール
1. **プロンプトを削らない** - LLMは自然言語で動作するため、文脈が重要
2. **評価基準をハードコードしない** - GPTに考えさせる
3. **フェーズ間でプロンプトを移動しない** - 各フェーズには明確な役割がある
4. **検索クエリを短くしない** - 自然言語での詳細な質問が必要

## 5つのフェーズの正確な仕様

### Phase 1: トレンド収集

#### Step 1 - Think（検索クエリ生成）
```
# ユーザー設定
* 発信したいテーマ: {theme}
* コンテンツのスタイル: {style}
* プラットフォーム: {platform}

# タスク
ユーザーの入力した情報をもとに、下記の視点に基づいてWEB検索のためのクエリを生成してください。

## A：現在の出来事の分析
- 最新ニュース
- 有名人の事件と世間の反応
- 議論が巻きおこるような政治的展開

## B：テクノロジーの発表とテクノロジードラマ
- ビジネスニュースと企業論争
- 文化的瞬間と社会運動
- スポーツイベントと予想外の結果
- インターネットドラマとプラットフォーム論争

## C：ソーシャルリスニング研究
- Twitterのトレンドトピックとハッシュタグの速度
- TikTokサウンドとチャレンジの出現
- Redditのホットな投稿とコメントの感情
- Googleトレンドの急上昇パターン
- YouTubeトレンド動画分析
- ニュース記事のコメント欄
- ソーシャルメディアのエンゲージメントパターン

## D：バイラルパターン認識
バイラルが起きる可能性があるトピックを特定する:
- 論争レベル（強い意見を生み出す）
- 感情の強さ（怒り、喜び、驚き、憤慨）
- 共感性要因（多くの人に影響を与える）
- 共有可能性（人々が広めたいと思うこと）
- タイミングの敏感さ（関連性のウィンドウが狭い）
- プラットフォーム調整（{platform}文化に適合）
```


#### Step 2 - Execute（検索実行）
- Perplexity推奨（Google検索ではなく）
- GPTが生成したクエリを**自然言語の質問として**使用
- 短い検索クエリではなく、文脈を含む詳細な調査依頼

#### Step 3 - Integrate（結果分析）
```
# タスク
上記の調査結果をもとに、バイラルパターン認識を行い、バズる可能性のあるトピックを特定してください。

## D：バイラルパターン認識
バイラルが起きる可能性があるトピックを以下の観点で評価：
- 論争レベル（強い意見を生み出す）
- 感情の強さ（怒り、喜び、驚き、憤慨）
- 共感性要因（多くの人に影響を与える）
- 共有可能性（人々が広めたいと思うこと）
- タイミングの敏感さ（関連性のウィンドウが狭い）
- プラットフォーム調整（{platform}文化に適合）
```

### Phase 2: 機会評価とアングル特定

#### 正しいプロンプト
```
前フェーズで特定された機会：
{opportunities}

以下の観点で各機会を分析してください：

A：ウイルス速度指標
- 検索ボリュームの急増と成長率
- ソーシャルメンションの加速
- 複数プラットフォームの存在
- インフルエンサーの採用
- メディア報道の勢い

B：コンテンツアングル識別
実行可能なトレンドごとに、独自の角度を特定します：
- 反対派は世論に異議を唱える
- 専門家による内部視点の分析
- 個人的なつながりの物語
- 教育の内訳
- 次に何が起こるかを予測するコンテンツ
- 舞台裏の洞察
- 過去のイベントとの比較内容
```

**重要**: AとBは**Phase 2で同時に**評価する

### Phase 3: バズるコンテンツのコンセプト作成

```
## フェーズ3: バズるコンテンツのコンセプト作成

具体的で実行可能なコンテンツ コンセプトを作成します。

●コンテンツコンセプトフレームワーク
それぞれの機会について、以下を開発します
A：形式: [スレッド/ビデオ/投稿タイプ]
B：フック: 「[注目を集める具体的なオープナー]」
C：角度: [独自の視点や見方]

●コンテンツ概要:
トレンドにつながるオープニングフック
[物語を構築する3～5つのキーポイント]
- 予期せぬ洞察や啓示
- エンゲージメントを促進するCTA
- タイミング: 最大の効果を得るには [X] 時間以内に投稿してください
- ビジュアル: [具体的な画像/動画の説明]
- ハッシュタグ: [最適化されたタグ]

この構造に従って 3 つのコンセプトを提供します。この際には、コンセプト作成のもととなったニュースソースとURLも必ず提示します。
```

**締めの文言**: 「バズるコンテンツのコンセプトの概要は次のとおりです。「続行」と入力すると、各コンセプトに基づいたコンテンツ作成を開始します」

### Phase 4: 実際のコンテンツ作成

```
コンセプト1: [トレンドトピック] - 完全なコンテンツ
[Xにすぐにコピー＆ペースト可能な完全なコンテンツを作成してください]
[すべてのテキスト、書式、改行、絵文字、ハッシュタグを含める]
[完成させてすぐに投稿できるように準備する]
視覚的説明: [必要な画像/ビデオの詳細な説明]
投稿に関する注意事項: [具体的なタイミングと最適化のヒント]
```

**重要**: 
- **コピペ即投稿可能**な完成度で出力
- ただし、**人間による文体・トーンの微調整は前提**

### Phase 5: 実行戦略（投稿文を参照）

```
## フェーズ5: 実行戦略
実装ガイダンスを提供します。

実行タイムライン
- 即時（2～4時間）：コンテンツ作成、ビジュアル準備、プラットフォームのセットアップ
- 投稿期間（4～24時間）: 最適なタイミング、リアルタイム監視、対応戦略
- フォローアップ（24～48時間）：増幅戦術、フォローアップコンテンツ、パフォーマンス分析

●最適化技術
- リアルタイム調整のためのエンゲージメントの監視
- 関連するバズるコンテンツに関する戦略的なコメント
- 複数プラットフォーム共有で最大限のリーチを実現
- 知名度を高めるためのインフルエンサーとのエンゲージメント

●リスクアセスメント
- 論争リスクとブランドの整合性
- 競争飽和分析
- プラットフォームアルゴリズムの互換性

●成功指標
- エンゲージメント率とベースライン
- シェア速度とバイラル係数
- クロスプラットフォームパフォーマンス
```

**重要**: Phase 4で作成した**投稿文の内容を参照しながら**具体的な戦略を立てる

## よくある実装の間違い

### ❌ してはいけないこと

1. **プロンプトを削る・簡略化する**
   - 例: 「検索ボリュームの急増」を「検索トレンド」に短縮
   - LLMは文脈で理解するため、詳細な説明が必要

2. **評価基準をハードコードする**
   - 例: スコアリングロジックをコードで実装
   - GPTに考えさせることが重要

3. **フェーズ間でプロンプトを移動する**
   - 例: Phase 2のアングル識別をPhase 3に移動
   - 各フェーズの役割が崩れる

4. **検索を短いクエリで済ませる**
   - 例: "AI workplace news"のような短いクエリ
   - 自然言語での詳細な調査依頼が必要

### ✅ 正しい実装

1. **プロンプトは完全な形で保持**
   - オリジナルの文言をそのまま使用
   - 文脈と詳細を維持

2. **GPTに判断させる**
   - 評価基準は提示するが、判断はGPTが行う
   - 創造的な思考を促す

3. **各フェーズの独立性を保つ**
   - Phase 1: 情報収集
   - Phase 2: 評価とアングル
   - Phase 3: コンセプト
   - Phase 4: コンテンツ
   - Phase 5: 戦略

4. **自然言語での処理**
   - 検索も分析も自然言語で
   - 機械的な処理を避ける

## Perplexity統合の推奨実装

### Phase 1 Executeでの使用方法

```javascript
// GPTが生成した検索意図を自然言語の質問に展開
const perplexityPrompt = `
「${theme}」というテーマでバイラルコンテンツを作成するために調査しています。

${queryObj.topic}について、以下の観点で最新の情報を詳しく教えてください：

検索の背景：
- カテゴリ: ${queryObj.category}（${getCategoryDescription(queryObj.category)}）
- 意図: ${queryObj.intent}
- バイラルポテンシャル: ${JSON.stringify(queryObj.viralPotential)}

特に以下の点に注目してください：
1. なぜこれが今話題になっているのか
2. どのような感情的反応を引き起こしているか
3. 議論や論争の具体的な内容
4. ${theme}に関連してバズを生み出せるポイント
`;
```

## 実装時の確認事項

新しいセッションを開始する際は、必ず以下を確認：

1. ✅ このドキュメントを読んだか
2. ✅ 各フェーズのプロンプトは正しいか
3. ✅ GPTに考えさせる設計になっているか
4. ✅ 自然言語での処理を維持しているか

---

**最終更新**: 2025/06/14
**作成者**: Chain of Thought仕様管理
**バージョン**: 1.0